---
import '/src/reset.css';

import Layout from '@layouts/Layout.astro';
import Badge from '@components/Badge.astro';
import SectionContainer from '@components/SectionContainer.astro';
import LinkedInIcon from '@icons/LinkedIn.astro';
import CodeIcon from '@icons/Code.astro';
import SocialPill from '@components/SocialPill.astro';
import GitHubIcon from '@icons/GitHub.astro';
import MailIcon from '@icons/Mail.astro';
import Experience from '@components/Experience.astro';
import Briefcase from '@icons/Briefcase.astro';
import Projects from '@components/Projects/Projects.astro';
import CopyButton from '@components/CopyButton.astro';
import Skills from '@components/Skills.astro';
import Fire from '@icons/Fire.astro';

import { textsJson } from '@utils/const';
import type { Translations } from '../../types/translations';
const langJson = textsJson.en;

const translations: Translations = langJson;

const layout = translations.layout;
const hero = translations.mainPage.hero;
const socialPill = translations.mainPage.socialPill;
const skills = translations.mainPage.skills;
const copyButton = translations.mainPage.socialPill.copyButton;
const socialMedia = translations.socialMedia;
const experience = translations.experience;
const personalInfo = translations.personalInfo;
const selectedProjects = translations.mainPage.selectedProjects;
---

<Layout
	title={layout.title}
	description={layout.titleDescription}
	json={langJson}
>
	<main class='px-4'>
		<SectionContainer id='home' class='py-32 md:py-44 pb-32'>
			<div class='flex justify-center items-center md:justify-start'>
				<img
					class='rounded-3xl mb-6 w-32 border-2 border-[#1F429F]/95 dark:border-yellow-200/95 shadow-md shadow-[#1d3a84]/50 dark:shadow-yellow-300/50'
					src='/assets/images/foto-carnet.webp'
					alt='Fr4n0m photo'
				/>
			</div>

			<h1
				class='text-3xl md:text-4xl lg:text-4xl font-bold flex flex-col-reverse gap-y-4 md:gap-y-0 md:flex-row md:gap-x-20 pb-6 lg:pb-6 text-gray-700 dark:text-white'
			>
				<div class='typing text-center md:text-left'>
					<h1 class='w-fit typewriter md:typewriter-mobile'>
						{hero.heroTitle}
					</h1>
				</div>

				<div class='flex justify-center items-center text-nowrap'>
					<a
						href='https://www.linkedin.com/in/francisco-jos%C3%A9-r-5b2181bb/'
						target='_blank'
						rel='noopener'
						class='flex justify-center items-center'
					>
						<Badge>{hero.heroBadge}</Badge>
					</a>
				</div>
			</h1>

			<h2 class='text-xl lg:text-2xl opacity-95 text-wrap max-w-[700px]'>
				<span class='text-gray-600 dark:text-yellow-200/95'
					>{hero.heroDescription1}
					<span class='text-gray-500 dark:text-blue-200/95'>
						{hero.heroDescription2}
					</span>
				</span>
				<span class='text-gray-500 dark:opacity-95 dark:text-white/90'
					>{hero.heroDescription3}
				</span>
				<span
					class='text-red-500 dark:text-red-200/95 text-lg lg:text-xl'
					><br />{personalInfo.location}</span
				>
			</h2>
			<nav
				class='flex align-center justify-center sm:justify-start gap-4 mt-8 flex-wrap'
			>
				<SocialPill
					title={`${socialPill.socialPillTitle} ${socialMedia.linkedin}`}
					href='https://www.linkedin.com/in/francisco-jos%C3%A9-r-5b2181bb/'
				>
					<LinkedInIcon class='size-4 md:size-5' />
					{socialMedia.linkedin}
				</SocialPill>

				<SocialPill
					title={`${socialPill.socialPillTitle} ${socialMedia.github}`}
					href='https://github.com/Fr4n0m'
				>
					<GitHubIcon class='size-4 md:size-5' />
					{socialMedia.github}
				</SocialPill>

				<div class='flex gap-4'>
					<SocialPill
						title={`${socialPill.sendMailSocialPill} ${personalInfo.mail}`}
						href='mailto:Fran11799@outlook.com'
					>
						<MailIcon class='size-4 md:size-6' />
						{personalInfo.mail}
					</SocialPill>

					<CopyButton translations={copyButton} />
				</div>
			</nav>
		</SectionContainer>

		<SectionContainer id='skills'>
			<h2
				class='text-gray-700 dark:text-white text-3xl font-semibold mb-12 flex gap-x-3 items-center'
			>
				<Fire class='size-7' />
				{skills.skillsTitle}
			</h2>
			<Skills />
		</SectionContainer>

		<SectionContainer id='experience' class='mt-24 md:mt-0'>
			<h2
				class='text-gray-700 dark:text-white text-3xl font-semibold mb-12 flex gap-x-3 items-center'
			>
				<Briefcase class='size-7' />
				{experience.workExperience}
			</h2>
			<Experience translations={translations} />
		</SectionContainer>

		<SectionContainer id='projects' class='mt-24 md:mt-0'>
			<h2
				class='text-gray-700 dark:text-white text-3xl font-semibold -ml-1 flex gap-x-3 items-center'
			>
				<CodeIcon class='size-9' />
				{selectedProjects.projectsTitle}
			</h2>
		</SectionContainer>
		<Projects translations={translations} />
	</main>

	<!-- <SectionContainer id="sobre-mi"></SectionContainer> -->
</Layout>

<style>
	.typing h1 {
		overflow: hidden;
		overflow-x: hidden;
		padding-bottom: 0.07em;
		border-right: 0.15em solid #1e42a0;
		padding-right: 10px;
		white-space: nowrap;
		margin: 0 auto;
		letter-spacing: 0.05em;
	}

	.typewriter {
		animation:
			typing 3.5s steps(30, end),
			blink-caret 0.8s step-end infinite;
	}

	.typewriter-mobile {
		animation:
			typing-mobile 3.5s steps(30, end),
			blink-caret 0.8s step-end infinite;
	}

	@keyframes typing-mobile {
		from {
			width: 0;
		}
		to {
			width: 70%;
		}
	}

	@keyframes typing {
		from {
			width: 0;
		}
		to {
			width: 100%;
		}
	}

	@keyframes blink-caret {
		from,
		to {
			border-color: transparent;
		}
		50% {
			border-color: rgba(30, 67, 160, 0.619);
		}
	}
</style>
