---
import type { Project } from '../../types/projects';
import GithubIcon from '@icons/GitHub.astro';
import LinkIcon from '@icons/Link.astro';
import Carousel from '@components/Carousel';
import LinkButton from '@components/ui/LinkButton.astro';
import ProjectsDescription from '@components/Projects/ProjectsDescription';
import Tag from '@components/ui/Tag.astro';
import { TAGS } from '@utils/tags';
import { commonClasses } from '@utils/cssClasses';

export interface Props {
  project: Project;
  buttons: {
    textCodeButton: string;
    textDemoButton: string;
    textDemo2Button: string;
  };
}

const { project, buttons } = Astro.props;
const { images, title, description, tags, link, secondaryLink, github } = project;
---

<article>
  <h3 class={commonClasses.heading.h3 + ' mt-12 mb-2'}>
    {title}
  </h3>

  <ProjectsDescription
    client:load
    description={description}
  />
</article>

<ul class='flex gap-x-3 flex-row text-nowrap flex-wrap'>
  {tags.map(tag => (
    <li>
      {TAGS[tag] ? (
        <Tag {...TAGS[tag]} />
      ) : (
        <span>{tag}</span>
      )}
    </li>
  ))}
</ul>

<Carousel client:load images={images} />

<footer class='flex items-end justify-start mt-6 mb-16 gap-x-4'>
  {github && (
    <LinkButton href={github}>
      <GithubIcon class={commonClasses.iconSize.small} />
      {buttons.textCodeButton}
    </LinkButton>
  )}
  {link && (
    <LinkButton href={link}>
      <LinkIcon class={commonClasses.iconSize.small} />
      {buttons.textDemoButton}
    </LinkButton>
  )}
  {secondaryLink && (
    <LinkButton href={secondaryLink}>
      <LinkIcon class={commonClasses.iconSize.small} />
      {buttons.textDemo2Button}
    </LinkButton>
  )}
</footer>
